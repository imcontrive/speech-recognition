<!DOCTYPE html>
<html >
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">

		<title>Speech App</title>
		<link rel="icon" href="https://www.lifenaut.com/wp-content/uploads/2018/08/voice-recognition-300x300.png" type="image/gif">

		<!-- Font Family -->
		<link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,600,700" rel="stylesheet">

		<!-- Font awesome for icons -->
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">

		<!-- Custom CSS -->
		<link rel="stylesheet" href="assets/stylesheets/style.css">
	</head>
  <body>
		<div class="content" contenteditable></div>




		<script>
		window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
			

		const recognition = new SpeechRecognition();
		recognition.interimResults = true;
		recognition.lang = 'en-US';

		var p = document.createElement('p');
		const content = document.querySelector('.content');
		content.appendChild(p);

		recognition.addEventListener('result', e => {
		const transcript = Array.from(e.results)
			.map(result => result[0])
			.map(result => result.transcript)
			.join('');

			const poopScript = transcript.replace(/poop|poo|shit|dump/gi, 'ðŸ’©');
			p.textContent = poopScript;

			if (e.results[0].isFinal) {
				p = document.createElement('p');
				words.appendChild(p);
			}
		});

  recognition.addEventListener('end', recognition.start);

  recognition.start();
	
		</script>
  </body>
</html>
